(this.webpackJsonpgrapheme_test_task=this.webpackJsonpgrapheme_test_task||[]).push([[0],{103:function(e,t,a){e.exports=a(212)},108:function(e,t,a){},109:function(e,t,a){},212:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(20),o=a.n(c),l=(a(108),a(109),a(24)),s=a(100),i=a(10),_=a(9),p=a(215),u=a(1);function m(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function d(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?m(Object(a),!0).forEach((function(t){Object(u.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):m(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var b="grapheme_test_task/checkout-reducer/ADD-VALUE-TO-STEP1-FORM-DATA",h="grapheme_test_task/checkout-reducer/EDIT-VALUE-TO-STEP1-FORM-DATA",v="grapheme_test_task/checkout-reducer/ADD-VALUE-TO-STEP2-FORM",f="grapheme_test_task/checkout-reducer/EDIT-VALUE-TO-STEP2-FORM-DATA",g="grapheme_test_task/checkout-reducer/DROP-ALL-STEP-DATA",S={countries:[{value:"RUS",label:"\u0420\u043e\u0441\u0441\u0438\u044f"},{value:"ESH",label:"\u0417\u0430\u043f\u0430\u0434\u043d\u0430\u044f \u0421\u0430\u0445\u0430\u0440\u0430"},{value:"BLM",label:"\u0421\u0435\u043d-\u0411\u0430\u0440\u0442\u0435\u043b\u044c\u043c\u0438"},{value:"SVN",label:"\u0421\u043b\u043e\u0432\u0435\u043d\u0438\u044f"},{value:"USA",label:"\u0421\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u043d\u044b\u0435 \u0428\u0442\u0430\u0442\u044b"},{value:"SLE",label:"\u0421\u044c\u0435\u0440\u0440\u0430-\u041b\u0435\u043e\u043d\u0435"},{value:"PHL",label:"\u0424\u0438\u043b\u0438\u043f\u043f\u0438\u043d\u044b"},{value:"CHL",label:"\u0427\u0438\u043b\u0438"},{value:"JPN",label:"\u042f\u043f\u043e\u043d\u0438\u044f"}],step1FormData:{},step2FormData:{}},E=function(e,t){return Object.assign(e,t)},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return d({},e,{step1FormData:t.value});case h:return d({},e,{step1FormData:E(e.step1FormData,t.value)});case v:return d({},e,{step2FormData:t.value});case f:return d({},e,{step2FormData:E(e.step2FormData,t.value)});case g:return d({},e,{step1FormData:{},step2FormData:{}});default:return e}},y=Object(_.b)({checkout:O,form:p.a}),N=Object(_.c)(y);window.__store__=N;var j=N,D=a(38),C=a(214),k=a(213),A=a(47),F=a.n(A),T=Object(i.b)(null,{editToStep1FormData:function(e){return{type:h,value:e}}})((function(e){var t=e.input,a=e.label,n=e.type,c=e.meta,o=c.touched,l=c.error,s=(c.warning,e.disabled),i=e.className,_=e.editToStep1FormData,p=o&&l;return r.a.createElement("div",{className:i},r.a.createElement("input",Object.assign({},t,{className:p?F.a.input_error:"",placeholder:a,type:n,value:t.value,disabled:s,onBlur:function(){return e=t.name,void((a=t.value).length>0&&(console.log(a),_(Object(u.a)({},e,a))));var e,a}})))})),w=a(101);function x(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function B(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?x(Object(a),!0).forEach((function(t){Object(u.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):x(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var P=function(e){var t=e.input,a=e.label,n=e.meta,c=n.touched,o=n.error,l=(n.warning,e.options),s=e.className,i={indicatorSeparator:function(){return{display:"none"}},container:function(e,t){return B({},e,{height:40})},menu:function(e,t){return B({},e,{height:120})},menuList:function(e,t){return B({},e,{height:120})},control:function(e,t){return B({},e,{height:40,minHeight:40,borderColor:"#DEDCDC",borderRadius:5})},placeholder:function(e,t){return B({},e,{fontFamily:"Helvetica Neue, sans-serif",fontStyle:"normal",fontWeight:300,fontSize:16,lineHeight:18,color:"#6B6B6B",marginLeft:7})},singleValue:function(e,t){return B({},e,{fontFamily:"Helvetica Neue, sans-serif",fontStyle:"normal",fontWeight:300,fontSize:16,lineHeight:18,color:"black",marginLeft:7})}},_=c&&o?B({},i,{control:function(e,t){return B({},e,{borderColor:"#FFADAD"})}}):i;return r.a.createElement("div",{className:s},r.a.createElement(w.a,Object.assign({},t,{styles:_,placeholder:a,onChange:function(e){return t.onChange(e)},onBlur:function(){return t.onBlur(t.value)},options:l})))},I=a(8),L=a.n(I),V=Object(k.a)({form:"step1",validate:function(e){var t={};return e.fullName||(t.fullName="\u041f\u0443\u0441\u0442\u043e\u0435 \u043f\u043e\u043b\u0435"),e.town||(t.town="\u041f\u0443\u0441\u0442\u043e\u0435 \u043f\u043e\u043b\u0435"),e.address||(t.address="\u041f\u0443\u0441\u0442\u043e\u0435 \u043f\u043e\u043b\u0435"),e.country||(t.country="\u041f\u0443\u0441\u0442\u043e\u0435 \u043f\u043e\u043b\u0435"),e.index||(t.index="\u041f\u0443\u0441\u0442\u043e\u0435 \u043f\u043e\u043b\u0435"),t},enableReinitialize:!0})((function(e){var t=e.handleSubmit,a=e.countriesList;return r.a.createElement("form",{onSubmit:t},r.a.createElement("div",{className:"".concat(L.a.heading," ").concat(L.a.step1__heading)},r.a.createElement("span",null,"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u0434\u043b\u044f \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0438")),r.a.createElement("div",{className:"".concat(L.a.label," ").concat(L.a.step1__recipient_label)},r.a.createElement("span",null,"\u041f\u043e\u043b\u0443\u0447\u0430\u0442\u0435\u043b\u044c")),r.a.createElement(C.a,{className:"".concat(L.a.input," ").concat(L.a.customInput," ").concat(L.a.step1__FIO_input),name:"fullName",type:"text",component:T,label:"\u0424\u0418\u041e"}),r.a.createElement("div",{className:"".concat(L.a.label," ").concat(L.a.step1__address_label)},r.a.createElement("span",null,"\u0410\u0434\u0440\u0435\u0441")),r.a.createElement(C.a,{className:"".concat(L.a.input," ").concat(L.a.customInput," ").concat(L.a.step1__city_input),name:"town",type:"text",component:T,label:"\u0413\u043e\u0440\u043e\u0434"}),r.a.createElement(C.a,{className:"".concat(L.a.input," ").concat(L.a.customInput," ").concat(L.a.step1__address_input),name:"address",type:"text",component:T,label:"\u0410\u0434\u0440\u0435\u0441"}),r.a.createElement("div",{className:L.a.step1__countryAndZipBox},r.a.createElement(C.a,{className:L.a.step1__country,name:"country",type:"text",component:P,label:"\u0421\u0442\u0440\u0430\u043d\u0430",options:a}),r.a.createElement(C.a,{className:"".concat(L.a.input," ").concat(L.a.customInput," ").concat(L.a.step1__zip),name:"index",type:"text",component:T,label:"\u0418\u043d\u0434\u0435\u043a\u0441"})),r.a.createElement("div",{className:L.a.step1__button},r.a.createElement("button",{className:L.a.button},"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c")))})),R=Object(i.b)((function(e){return{initialValues:e.checkout.step1FormData,countriesList:e.checkout.countries}}),{})(V),H=Object(i.b)(null,{editToStep2FormData:function(e){return{type:f,value:e}}})((function(e){var t=e.input,a=e.label,n=e.type,c=e.meta,o=c.touched,l=c.error,s=(c.warning,e.disabled),i=e.className,_=e.editToStep2FormData,p=o&&l;return r.a.createElement("div",{className:i},r.a.createElement("input",Object.assign({},t,{className:p?F.a.input_error:"",placeholder:a,type:n,value:t.value,disabled:s,onBlur:function(){return e=t.name,void((a=t.value).length>0&&"CVV"!==e&&(console.log(a),_(Object(u.a)({},e,a))));var e,a}})))})),z=function(e,t){if(!e)return e;var a=e.replace(/[^\d]/g,"");return a.length<4?a:4===a.length?a+" ":a.length<8?a.slice(0,4)+" "+a.slice(4):8===a.length?a.slice(0,4)+" "+a.slice(4,8):a.length<12?a.slice(0,4)+" "+a.slice(4,8)+" "+a.slice(8):12===a.length?a.slice(0,4)+" "+a.slice(4,8)+" "+a.slice(8,12):a.length<16?a.slice(0,4)+" "+a.slice(4,8)+" "+a.slice(8,12)+" "+a.slice(12):16===a.length?a.slice(0,4)+" "+a.slice(4,8)+" "+a.slice(8,12)+" "+a.slice(12,16):a.length<20?a.slice(0,4)+" "+a.slice(4,8)+" "+a.slice(8,12)+" "+a.slice(12,16)+" "+a.slice(16):a.slice(0,4)+" "+a.slice(4,8)+" "+a.slice(8,12)+" "+a.slice(12,16)+" "+a.slice(16,20)},M=function(e,t){if(!e)return e;var a=e.replace(/[^\d]/g,"");return 1===a.length?Number.parseInt(a)>1?1:a:2===a.length?0===Number.parseInt(a[1])?a.slice(0,1)+"1 / ":Number.parseInt(a)<=12?a+" / ":"12 / ":3===a.length?a.slice(0,2)+" / "+a.slice(2):a.slice(0,2)+" / "+a.slice(2,4)},U=function(e,t){if(!e)return e;var a=e.replace(/[^\d]/g,"");return a.length<3?a:a.slice(0,3)},G=a(7),J=a.n(G),Y=Object(k.a)({form:"step2",validate:function(e){var t={};return e.nameOnTheCard||(t.nameOnTheCard="\u041f\u0443\u0441\u0442\u043e\u0435 \u043f\u043e\u043b\u0435"),e.cardNumber||(t.cardNumber="\u041f\u0443\u0441\u0442\u043e\u0435 \u043f\u043e\u043b\u0435"),e.date||(t.date="\u041f\u0443\u0441\u0442\u043e\u0435 \u043f\u043e\u043b\u0435"),e.CVV||(t.CVV="\u041f\u0443\u0441\u0442\u043e\u0435 \u043f\u043e\u043b\u0435"),t},enableReinitialize:!0})((function(e){var t=e.handleSubmit,a=e.buttonBlocked;return r.a.createElement("form",{onSubmit:t},r.a.createElement("div",{className:"".concat(J.a.heading," ").concat(J.a.step2__heading)},r.a.createElement("span",null,"\u041e\u043f\u043b\u0430\u0442\u0430")),r.a.createElement("div",{className:"".concat(J.a.label," ").concat(J.a.step2__nameOnTheCard_label)},r.a.createElement("span",null,"\u0418\u043c\u044f \u043d\u0430 \u043a\u0430\u0440\u0442\u0435")),r.a.createElement(C.a,{className:"".concat(J.a.input," ").concat(J.a.customInput," ").concat(J.a.step2__nameOnTheCard_input),name:"nameOnTheCard",type:"text",component:H,label:"\u0418\u043c\u044f \u043d\u0430 \u043a\u0430\u0440\u0442\u0435",normalize:function(e){return e&&e.toUpperCase()}}),r.a.createElement("div",{className:"".concat(J.a.label," ").concat(J.a.step2__nameOnTheCard_label)},r.a.createElement("span",null,"\u041d\u043e\u043c\u0435\u0440 \u043a\u0430\u0440\u0442\u044b")),r.a.createElement(C.a,{className:"".concat(J.a.input," ").concat(J.a.customInput," ").concat(J.a.step2__cardNumber_input),name:"cardNumber",type:"text",component:H,normalize:z,label:"\u0425\u0425\u0425\u0425 \u0425\u0425\u0425\u0425 \u0425\u0425\u0425\u0425 \u0425\u0425\u0425\u0425 \u0425\u0425\u0425\u0425"}),r.a.createElement("div",{className:J.a.step2__dateAndCvvBox},r.a.createElement("div",{className:J.a.step2__date},r.a.createElement("div",{className:"".concat(J.a.label)},r.a.createElement("span",null,"\u0421\u0440\u043e\u043a")),r.a.createElement(C.a,{className:"".concat(J.a.input," ").concat(J.a.customInput," ").concat(J.a.step2__dateAndCvv_input),name:"date",type:"text",component:H,normalize:M,label:"MM / YY"})),r.a.createElement("div",{className:J.a.step2__cvv},r.a.createElement("div",{className:"".concat(J.a.label)},r.a.createElement("span",null,"CVV")),r.a.createElement(C.a,{className:"".concat(J.a.input," ").concat(J.a.customInput," ").concat(J.a.step2__dateAndCvv_input),name:"CVV",type:"password",component:H,normalize:U,label:""}))),r.a.createElement("div",{className:J.a.step2__button},r.a.createElement("button",{disabled:a,className:J.a.button},"\u041e\u043f\u043b\u0430\u0442\u0438\u0442\u044c")))})),q=Object(i.b)((function(e){return{initialValues:e.checkout.step2FormData}}),{})(Y),W=a(98),Z=a.n(W),K=function(){return r.a.createElement("div",{className:Z.a.thanks},r.a.createElement("a",{href:"#"},r.a.createElement("img",{src:"thankYou.svg",alt:"Thank you"})))},X=a(71),Q=a.n(X),$=a(28),ee=a.n($),te=a(102),ae=function(e){for(var t=e.stepsArr,a=e.stepperState,n=e.goToStep,c=[],o=0;o<t.length;o++)c.push({stepper:t[o],id:o+1}),o<t.length-1&&c.push("FiChevronRight");return r.a.createElement("div",{className:a?ee.a.stepperHide:ee.a.stepper},c.map((function(e,t){return"FiChevronRight"!==e?r.a.createElement("span",{key:t,className:e.stepper.isActive?"".concat(ee.a.stepper__step," ").concat(ee.a.stepper__step_active):"".concat(ee.a.stepper__step),onClick:function(){return n(e.id)}},e.stepper.name):r.a.createElement(te.a,{key:t,className:ee.a.stepper__chevronRight})})))},ne=Object(i.b)((function(e){return{step1Data:e.checkout.step1FormData,step2Data:e.checkout.step1FormData}}),{setToStep1FormData:function(e){return{type:b,value:e}},setToStep2FormData:function(e){return{type:v,value:e}},dropAllStepData:function(){return{type:g}}})((function(e){var t=e.setToStep1FormData,a=e.setToStep2FormData,c=e.dropAllStepData,o=Object(n.useState)(1),l=Object(D.a)(o,2),s=l[0],i=l[1],_=Object(n.useState)(!1),p=Object(D.a)(_,2),u=p[0],m=p[1],d=Object(n.useState)([{name:"\u0414\u043e\u0441\u0442\u0430\u0432\u043a\u0430",isActive:!0},{name:"\u041e\u043f\u043b\u0430\u0442\u0430",isActive:!1}]),b=Object(D.a)(d,2),h=b[0],v=b[1],f=Object(n.useState)(!0),g=Object(D.a)(f,2),S=g[0],E=g[1],O=function(e){switch(e){case 1:i(1),v([{name:"\u0414\u043e\u0441\u0442\u0430\u0432\u043a\u0430",isActive:!0},{name:"\u041e\u043f\u043b\u0430\u0442\u0430",isActive:!1}]);break;case 2:i(2),v([{name:"\u0414\u043e\u0441\u0442\u0430\u0432\u043a\u0430",isActive:!1},{name:"\u041e\u043f\u043b\u0430\u0442\u0430",isActive:!0}]);break;case 3:m(!0),i(3)}},y=function(e){console.log(e),t({fullName:e.fullName,town:e.town,address:e.address,country:e.country,index:e.index}),O(2),E(!1)},N=function(e){a(e),c(),O(3)},j=function(e){switch(!0){case 1===e:return r.a.createElement("div",null,r.a.createElement(R,{onSubmit:y}));case 2===e:return r.a.createElement("div",null,r.a.createElement(q,{onSubmit:N,buttonBlocked:S}));case 3===e:return r.a.createElement("div",null,r.a.createElement(K,null));default:return r.a.createElement(r.a.Fragment,null)}}(s);return r.a.createElement("div",{className:Q.a.formContainer},r.a.createElement("div",{className:Q.a.formContainer__body},r.a.createElement(ae,{stepsArr:h,stepperState:u,goToStep:O}),j))})),re=a(25),ce=a.n(re),oe=function(){return r.a.createElement("header",{className:ce.a.header},r.a.createElement("div",{className:"".concat(ce.a.header__inscription," ").concat(ce.a.header__inscription_margin)},r.a.createElement("span",{className:ce.a.header__inscriptionText},"\u0422\u0435\u0441\u0442\u043e\u0432\u043e\u0435 \u0437\u0430\u0434\u0430\u043d\u0438\u0435")),r.a.createElement("div",{className:"".concat(ce.a.header__logoBox," ").concat(ce.a.header__logoBox_margin)},r.a.createElement("a",{href:"#"},r.a.createElement("img",{className:"logo ".concat(ce.a.header__logo),src:"GraphemeLogo.svg",alt:"logo grapheme"}))))};function le(){return r.a.createElement("div",{className:"App"},r.a.createElement(oe,null),r.a.createElement("main",{className:"Container"},r.a.createElement(l.a,{exact:!0,path:"/",render:function(){return r.a.createElement(ne,null)}})))}var se=function(){return r.a.createElement(s.a,null,r.a.createElement(i.a,{store:j},r.a.createElement(le,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(se,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},25:function(e,t,a){e.exports={header:"Header_header__1dFUM",header__inscription_margin:"Header_header__inscription_margin__1ZxlO",header__inscriptionText:"Header_header__inscriptionText__2vk8W",header__logoBox_margin:"Header_header__logoBox_margin__2CGFw",header__logo:"Header_header__logo__1-M52"}},28:function(e,t,a){e.exports={stepper:"Stepper_stepper__RoOSu",stepperHide:"Stepper_stepperHide__1ujgK",stepper__step:"Stepper_stepper__step__qtcD0",stepper__chevronRight:"Stepper_stepper__chevronRight__3J_mp",stepper__step_active:"Stepper_stepper__step_active__3P03u"}},47:function(e,t,a){e.exports={heading:"StepsCommonStyle_heading__1G-vt",label:"StepsCommonStyle_label__7uBjF",input:"StepsCommonStyle_input__1b_BG",input_error:"StepsCommonStyle_input_error__2SY1G",button:"StepsCommonStyle_button__1cqmD",customInput:"StepsCommonStyle_customInput__1KAJr"}},7:function(e,t,a){e.exports={heading:"Step2_heading__1B_jC",label:"Step2_label__17XYE",input:"Step2_input__srCFe",input_error:"Step2_input_error__14TFd",button:"Step2_button__XwIzY",customInput:"Step2_customInput__3erof",step2__heading:"Step2_step2__heading__15Qvc",step2__nameOnTheCard_label:"Step2_step2__nameOnTheCard_label__3rrhX",step2__nameOnTheCard_input:"Step2_step2__nameOnTheCard_input__uhLaD",step2__cardNumber_input:"Step2_step2__cardNumber_input__2sFeo",step2__dateAndCvvBox:"Step2_step2__dateAndCvvBox__A55e5",step2__cvv:"Step2_step2__cvv__1SjuM",step2__date:"Step2_step2__date__3eEE5",step2__dateAndCvv_input:"Step2_step2__dateAndCvv_input__2_u4o",step2__button:"Step2_step2__button__mcBGT"}},71:function(e,t,a){e.exports={formContainer:"Checkout_formContainer__RvR-l",formContainer__body:"Checkout_formContainer__body__Mg9Kc"}},8:function(e,t,a){e.exports={heading:"Step1_heading__2_dPS",label:"Step1_label__qOv1R",input:"Step1_input__1wVsv",input_error:"Step1_input_error__p2DKM",button:"Step1_button__3Ltlb",customInput:"Step1_customInput__T9cJa",step1__heading:"Step1_step1__heading__2OkCj",step1__recipient_label:"Step1_step1__recipient_label__22dr-",step1__FIO_input:"Step1_step1__FIO_input__IElBI",step1__address_label:"Step1_step1__address_label__34dHs",step1__city_input:"Step1_step1__city_input__f5Gjj",step1__address_input:"Step1_step1__address_input__33oEl",step1__countryAndZipBox:"Step1_step1__countryAndZipBox__2D4Za",step1__zip:"Step1_step1__zip__2brJq",step1__country:"Step1_step1__country__X2jLk",step1__button:"Step1_step1__button__xvjqP"}},98:function(e,t,a){e.exports={thanks:"Step3_thanks__2ljUS"}}},[[103,1,2]]]);
//# sourceMappingURL=main.a532d8fb.chunk.js.map