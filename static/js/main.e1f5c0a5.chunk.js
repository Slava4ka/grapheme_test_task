(this.webpackJsonpgrapheme_test_task=this.webpackJsonpgrapheme_test_task||[]).push([[0],{100:function(e,t,a){e.exports={thanks:"Step3_thanks__2ljUS"}},106:function(e,t,a){e.exports=a(217)},111:function(e,t,a){},112:function(e,t,a){},217:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(20),o=a.n(c),s=(a(111),a(112),a(24)),l=a(103),i=a(10),_=a(8),p=a(220),u=a(1);function m(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function d(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?m(Object(a),!0).forEach((function(t){Object(u.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):m(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var b="grapheme_test_task/checkout-reducer/ADD-VALUE-TO-STEP1-FORM-DATA",h="grapheme_test_task/checkout-reducer/EDIT-VALUE-TO-STEP1-FORM-DATA",v="grapheme_test_task/checkout-reducer/ADD-VALUE-TO-STEP2-FORM",f="grapheme_test_task/checkout-reducer/EDIT-VALUE-TO-STEP2-FORM-DATA",g="grapheme_test_task/checkout-reducer/DROP-ALL-STEP-DATA",S={countries:[{value:"RUS",label:"\u0420\u043e\u0441\u0441\u0438\u044f"},{value:"ESH",label:"\u0417\u0430\u043f\u0430\u0434\u043d\u0430\u044f \u0421\u0430\u0445\u0430\u0440\u0430"},{value:"BLM",label:"\u0421\u0435\u043d-\u0411\u0430\u0440\u0442\u0435\u043b\u044c\u043c\u0438"},{value:"SVN",label:"\u0421\u043b\u043e\u0432\u0435\u043d\u0438\u044f"},{value:"USA",label:"\u0421\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u043d\u044b\u0435 \u0428\u0442\u0430\u0442\u044b"},{value:"SLE",label:"\u0421\u044c\u0435\u0440\u0440\u0430-\u041b\u0435\u043e\u043d\u0435"},{value:"PHL",label:"\u0424\u0438\u043b\u0438\u043f\u043f\u0438\u043d\u044b"},{value:"CHL",label:"\u0427\u0438\u043b\u0438"},{value:"JPN",label:"\u042f\u043f\u043e\u043d\u0438\u044f"}],step1FormData:{},step2FormData:{}},E=function(e,t){var a={};return Object.assign(a,e,t),a},O=function(e){return{type:h,value:e}},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return d({},e,{step1FormData:t.value});case h:return d({},e,{step1FormData:E(e.step1FormData,t.value)});case v:return d({},e,{step2FormData:t.value});case f:return d({},e,{step2FormData:E(e.step2FormData,t.value)});case g:return d({},e,{step1FormData:{},step2FormData:{}});default:return e}},N=a(50),j=a(98),D={key:"presistedStore",storage:a.n(j).a},C=Object(_.b)({persistedStore:Object(N.a)(D,y),form:p.a}),T=Object(_.c)(C,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());window.__store__=T;var F=Object(N.b)(T),A=T,w=a(38),k=a(219),x=a(218),I=a(47),P=a.n(I),B=Object(i.b)(null,{editToStep1FormData:O})((function(e){var t=e.input,a=e.label,n=e.type,c=e.meta,o=c.touched,s=c.error,l=(c.warning,e.disabled),i=e.className,_=e.editToStep1FormData,p=o&&s;return r.a.createElement("div",{className:i},r.a.createElement("input",Object.assign({},t,{className:p?P.a.input_error:"",placeholder:a,type:n,value:t.value,disabled:l,onBlur:function(){return e=t.name,void((a=t.value).length>0&&(console.log(a),_(Object(u.a)({},e,a))));var e,a}})))})),L=a(104);function V(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function R(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?V(Object(a),!0).forEach((function(t){Object(u.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):V(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var H=Object(i.b)(null,{editToStep1FormData:O})((function(e){var t=e.input,a=e.label,n=e.meta,c=n.touched,o=n.error,s=(n.warning,e.options),l=e.className,i=e.editToStep1FormData,_={indicatorSeparator:function(){return{display:"none"}},container:function(e,t){return R({},e,{height:40})},menu:function(e,t){return R({},e,{height:120})},menuList:function(e,t){return R({},e,{height:120})},control:function(e,t){return R({},e,{height:40,minHeight:40,borderColor:"#DEDCDC",borderRadius:5})},placeholder:function(e,t){return R({},e,{fontFamily:"Helvetica Neue, sans-serif",fontStyle:"normal",fontWeight:300,fontSize:16,lineHeight:18,color:"#6B6B6B",marginLeft:7})},singleValue:function(e,t){return R({},e,{fontFamily:"Helvetica Neue, sans-serif",fontStyle:"normal",fontWeight:300,fontSize:16,lineHeight:18,color:"black",marginLeft:7})}},p=c&&o?R({},_,{control:function(e,t){return R({},e,{borderColor:"#FFADAD"})}}):_;return r.a.createElement("div",{className:l},r.a.createElement(L.a,Object.assign({},t,{styles:p,placeholder:a,onChange:function(e){return function(e,t){i(Object(u.a)({},e.name,t)),e.onChange(t)}(t,e)},onInputChange:function(){return t.onBlur(t.value)},options:s})))})),z=a(9),M=a.n(z),U=Object(x.a)({form:"step1",validate:function(e){var t={};return e.fullName||(t.fullName="\u041f\u0443\u0441\u0442\u043e\u0435 \u043f\u043e\u043b\u0435"),e.town||(t.town="\u041f\u0443\u0441\u0442\u043e\u0435 \u043f\u043e\u043b\u0435"),e.address||(t.address="\u041f\u0443\u0441\u0442\u043e\u0435 \u043f\u043e\u043b\u0435"),e.country||(t.country="\u041f\u0443\u0441\u0442\u043e\u0435 \u043f\u043e\u043b\u0435"),e.index||(t.index="\u041f\u0443\u0441\u0442\u043e\u0435 \u043f\u043e\u043b\u0435"),t},enableReinitialize:!0})((function(e){var t=e.handleSubmit,a=e.countriesList;return r.a.createElement("form",{onSubmit:t},r.a.createElement("div",{className:"".concat(M.a.heading," ").concat(M.a.step1__heading)},r.a.createElement("span",null,"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u0434\u043b\u044f \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0438")),r.a.createElement("div",{className:"".concat(M.a.label," ").concat(M.a.step1__recipient_label)},r.a.createElement("span",null,"\u041f\u043e\u043b\u0443\u0447\u0430\u0442\u0435\u043b\u044c")),r.a.createElement(k.a,{className:"".concat(M.a.input," ").concat(M.a.customInput," ").concat(M.a.step1__FIO_input),name:"fullName",type:"text",component:B,label:"\u0424\u0418\u041e"}),r.a.createElement("div",{className:"".concat(M.a.label," ").concat(M.a.step1__address_label)},r.a.createElement("span",null,"\u0410\u0434\u0440\u0435\u0441")),r.a.createElement(k.a,{className:"".concat(M.a.input," ").concat(M.a.customInput," ").concat(M.a.step1__city_input),name:"town",type:"text",component:B,label:"\u0413\u043e\u0440\u043e\u0434"}),r.a.createElement(k.a,{className:"".concat(M.a.input," ").concat(M.a.customInput," ").concat(M.a.step1__address_input),name:"address",type:"text",component:B,label:"\u0410\u0434\u0440\u0435\u0441"}),r.a.createElement("div",{className:M.a.step1__countryAndZipBox},r.a.createElement(k.a,{className:M.a.step1__country,name:"country",type:"text",component:H,label:"\u0421\u0442\u0440\u0430\u043d\u0430",options:a}),r.a.createElement(k.a,{className:"".concat(M.a.input," ").concat(M.a.customInput," ").concat(M.a.step1__zip),name:"index",type:"text",component:B,label:"\u0418\u043d\u0434\u0435\u043a\u0441"})),r.a.createElement("div",{className:M.a.step1__button},r.a.createElement("button",{className:M.a.button},"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c")))})),X=Object(i.b)((function(e){return{initialValues:e.persistedStore.step1FormData,countriesList:e.persistedStore.countries}}),{})(U),J=Object(i.b)(null,{editToStep2FormData:function(e){return{type:f,value:e}}})((function(e){var t=e.input,a=e.label,n=e.type,c=e.meta,o=c.touched,s=c.error,l=(c.warning,e.disabled),i=e.className,_=e.editToStep2FormData,p=o&&s;return r.a.createElement("div",{className:i},r.a.createElement("input",Object.assign({},t,{className:p?P.a.input_error:"",placeholder:a,type:n,value:t.value,disabled:l,onBlur:function(){return e=t.name,void((a=t.value).length>0&&"CVV"!==e&&(console.log(a),_(Object(u.a)({},e,a))));var e,a}})))})),G=function(e,t){if(!e)return e;var a=e.replace(/[^\d]/g,"");return a.length<4?a:4===a.length?a+" ":a.length<8?a.slice(0,4)+" "+a.slice(4):8===a.length?a.slice(0,4)+" "+a.slice(4,8):a.length<12?a.slice(0,4)+" "+a.slice(4,8)+" "+a.slice(8):12===a.length?a.slice(0,4)+" "+a.slice(4,8)+" "+a.slice(8,12):a.length<16?a.slice(0,4)+" "+a.slice(4,8)+" "+a.slice(8,12)+" "+a.slice(12):16===a.length?a.slice(0,4)+" "+a.slice(4,8)+" "+a.slice(8,12)+" "+a.slice(12,16):a.length<20?a.slice(0,4)+" "+a.slice(4,8)+" "+a.slice(8,12)+" "+a.slice(12,16)+" "+a.slice(16):a.slice(0,4)+" "+a.slice(4,8)+" "+a.slice(8,12)+" "+a.slice(12,16)+" "+a.slice(16,20)},Y=function(e,t){if(!e)return e;var a=e.replace(/[^\d]/g,"");return 1===a.length?Number.parseInt(a)>1?1:a:2===a.length?0===Number.parseInt(a[1])?a.slice(0,1)+"1 / ":Number.parseInt(a)<=12?a+" / ":"12 / ":3===a.length?a.slice(0,2)+" / "+a.slice(2):a.slice(0,2)+" / "+a.slice(2,4)},q=function(e,t){if(!e)return e;var a=e.replace(/[^\d]/g,"");return a.length<3?a:a.slice(0,3)},W=a(7),Z=a.n(W),K=Object(x.a)({form:"step2",validate:function(e){var t={};return e.nameOnTheCard||(t.nameOnTheCard="\u041f\u0443\u0441\u0442\u043e\u0435 \u043f\u043e\u043b\u0435"),e.cardNumber||(t.cardNumber="\u041f\u0443\u0441\u0442\u043e\u0435 \u043f\u043e\u043b\u0435"),e.date||(t.date="\u041f\u0443\u0441\u0442\u043e\u0435 \u043f\u043e\u043b\u0435"),e.CVV||(t.CVV="\u041f\u0443\u0441\u0442\u043e\u0435 \u043f\u043e\u043b\u0435"),t},enableReinitialize:!0})((function(e){var t=e.handleSubmit,a=e.buttonBlocked;return r.a.createElement("form",{onSubmit:t},r.a.createElement("div",{className:"".concat(Z.a.heading," ").concat(Z.a.step2__heading)},r.a.createElement("span",null,"\u041e\u043f\u043b\u0430\u0442\u0430")),r.a.createElement("div",{className:"".concat(Z.a.label," ").concat(Z.a.step2__nameOnTheCard_label)},r.a.createElement("span",null,"\u0418\u043c\u044f \u043d\u0430 \u043a\u0430\u0440\u0442\u0435")),r.a.createElement(k.a,{className:"".concat(Z.a.input," ").concat(Z.a.customInput," ").concat(Z.a.step2__nameOnTheCard_input),name:"nameOnTheCard",type:"text",component:J,label:"\u0418\u043c\u044f \u043d\u0430 \u043a\u0430\u0440\u0442\u0435",normalize:function(e){return e&&e.toUpperCase()}}),r.a.createElement("div",{className:"".concat(Z.a.label," ").concat(Z.a.step2__nameOnTheCard_label)},r.a.createElement("span",null,"\u041d\u043e\u043c\u0435\u0440 \u043a\u0430\u0440\u0442\u044b")),r.a.createElement(k.a,{className:"".concat(Z.a.input," ").concat(Z.a.customInput," ").concat(Z.a.step2__cardNumber_input),name:"cardNumber",type:"text",component:J,normalize:G,label:"\u0425\u0425\u0425\u0425 \u0425\u0425\u0425\u0425 \u0425\u0425\u0425\u0425 \u0425\u0425\u0425\u0425 \u0425\u0425\u0425\u0425"}),r.a.createElement("div",{className:Z.a.step2__dateAndCvvBox},r.a.createElement("div",{className:Z.a.step2__date},r.a.createElement("div",{className:"".concat(Z.a.label)},r.a.createElement("span",null,"\u0421\u0440\u043e\u043a")),r.a.createElement(k.a,{className:"".concat(Z.a.input," ").concat(Z.a.customInput," ").concat(Z.a.step2__dateAndCvv_input),name:"date",type:"text",component:J,normalize:Y,label:"MM / YY"})),r.a.createElement("div",{className:Z.a.step2__cvv},r.a.createElement("div",{className:"".concat(Z.a.label)},r.a.createElement("span",null,"CVV")),r.a.createElement(k.a,{className:"".concat(Z.a.input," ").concat(Z.a.customInput," ").concat(Z.a.step2__dateAndCvv_input),name:"CVV",type:"password",component:J,normalize:q,label:""}))),r.a.createElement("div",{className:Z.a.step2__button},r.a.createElement("button",{disabled:a,className:Z.a.button},"\u041e\u043f\u043b\u0430\u0442\u0438\u0442\u044c")))})),Q=Object(i.b)((function(e){return{initialValues:e.persistedStore.step2FormData}}),{})(K),$=a(100),ee=a.n($),te=function(){return r.a.createElement("div",{className:ee.a.thanks},r.a.createElement("a",{href:"#"},r.a.createElement("img",{src:"thankYou.svg",alt:"Thank you"})))},ae=a(72),ne=a.n(ae),re=a(28),ce=a.n(re),oe=a(105),se=function(e){for(var t=e.stepsArr,a=e.stepperState,n=e.goToStep,c=[],o=0;o<t.length;o++)c.push({stepper:t[o],id:o+1}),o<t.length-1&&c.push("FiChevronRight");return r.a.createElement("div",{className:a?ce.a.stepperHide:ce.a.stepper},c.map((function(e,t){return"FiChevronRight"!==e?r.a.createElement("span",{key:t,className:e.stepper.isActive?"".concat(ce.a.stepper__step," ").concat(ce.a.stepper__step_active):"".concat(ce.a.stepper__step),onClick:function(){return n(e.id)}},e.stepper.name):r.a.createElement(oe.a,{key:t,className:ce.a.stepper__chevronRight})})))},le=Object(i.b)((function(e){return{step1Data:e.persistedStore.step1FormData,step2Data:e.persistedStore.step1FormData}}),{setToStep1FormData:function(e){return{type:b,value:e}},setToStep2FormData:function(e){return{type:v,value:e}},dropAllStepData:function(){return{type:g}}})((function(e){var t=e.setToStep1FormData,a=e.setToStep2FormData,c=e.dropAllStepData,o=Object(n.useState)(1),s=Object(w.a)(o,2),l=s[0],i=s[1],_=Object(n.useState)(!1),p=Object(w.a)(_,2),u=p[0],m=p[1],d=Object(n.useState)([{name:"\u0414\u043e\u0441\u0442\u0430\u0432\u043a\u0430",isActive:!0},{name:"\u041e\u043f\u043b\u0430\u0442\u0430",isActive:!1}]),b=Object(w.a)(d,2),h=b[0],v=b[1],f=Object(n.useState)(!0),g=Object(w.a)(f,2),S=g[0],E=g[1],O=function(e){switch(e){case 1:i(1),v([{name:"\u0414\u043e\u0441\u0442\u0430\u0432\u043a\u0430",isActive:!0},{name:"\u041e\u043f\u043b\u0430\u0442\u0430",isActive:!1}]);break;case 2:i(2),v([{name:"\u0414\u043e\u0441\u0442\u0430\u0432\u043a\u0430",isActive:!1},{name:"\u041e\u043f\u043b\u0430\u0442\u0430",isActive:!0}]);break;case 3:m(!0),i(3)}},y=function(e){console.log(e),t({fullName:e.fullName,town:e.town,address:e.address,country:e.country,index:e.index}),O(2),E(!1)},N=function(e){a(e),c(),O(3)},j=function(e){switch(!0){case 1===e:return r.a.createElement("div",null,r.a.createElement(X,{onSubmit:y}));case 2===e:return r.a.createElement("div",null,r.a.createElement(Q,{onSubmit:N,buttonBlocked:S}));case 3===e:return r.a.createElement("div",null,r.a.createElement(te,null));default:return r.a.createElement(r.a.Fragment,null)}}(l);return r.a.createElement("div",{className:ne.a.formContainer},r.a.createElement("div",{className:ne.a.formContainer__body},r.a.createElement(se,{stepsArr:h,stepperState:u,goToStep:O}),j))})),ie=a(25),_e=a.n(ie),pe=function(){return r.a.createElement("header",{className:_e.a.header},r.a.createElement("div",{className:"".concat(_e.a.header__inscription," ").concat(_e.a.header__inscription_margin)},r.a.createElement("span",{className:_e.a.header__inscriptionText},"Payment")),r.a.createElement("div",{className:"".concat(_e.a.header__logoBox," ").concat(_e.a.header__logoBox_margin)},r.a.createElement("a",{href:"#"},r.a.createElement("img",{className:"logo ".concat(_e.a.header__logo),src:"logo192.png",alt:"logo"}))))},ue=a(101);function me(){return r.a.createElement("div",{className:"App"},r.a.createElement(pe,null),r.a.createElement("main",{className:"Container"},r.a.createElement(s.a,{exact:!0,path:"/",render:function(){return r.a.createElement(le,null)}})))}var de=function(){return r.a.createElement(l.a,null,r.a.createElement(i.a,{store:A},r.a.createElement(ue.a,{loading:r.a.createElement("div",null,"Loading"),persistor:F},r.a.createElement(me,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(de,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},25:function(e,t,a){e.exports={header:"Header_header__1dFUM",header__inscription_margin:"Header_header__inscription_margin__1ZxlO",header__inscriptionText:"Header_header__inscriptionText__2vk8W",header__logoBox_margin:"Header_header__logoBox_margin__2CGFw",header__logo:"Header_header__logo__1-M52"}},28:function(e,t,a){e.exports={stepper:"Stepper_stepper__RoOSu",stepperHide:"Stepper_stepperHide__1ujgK",stepper__step:"Stepper_stepper__step__qtcD0",stepper__chevronRight:"Stepper_stepper__chevronRight__3J_mp",stepper__step_active:"Stepper_stepper__step_active__3P03u"}},47:function(e,t,a){e.exports={heading:"StepsCommonStyle_heading__1G-vt",label:"StepsCommonStyle_label__7uBjF",input:"StepsCommonStyle_input__1b_BG",input_error:"StepsCommonStyle_input_error__2SY1G",button:"StepsCommonStyle_button__1cqmD",customInput:"StepsCommonStyle_customInput__1KAJr"}},7:function(e,t,a){e.exports={heading:"Step2_heading__1B_jC",label:"Step2_label__17XYE",input:"Step2_input__srCFe",input_error:"Step2_input_error__14TFd",button:"Step2_button__XwIzY",customInput:"Step2_customInput__3erof",step2__heading:"Step2_step2__heading__15Qvc",step2__nameOnTheCard_label:"Step2_step2__nameOnTheCard_label__3rrhX",step2__nameOnTheCard_input:"Step2_step2__nameOnTheCard_input__uhLaD",step2__cardNumber_input:"Step2_step2__cardNumber_input__2sFeo",step2__dateAndCvvBox:"Step2_step2__dateAndCvvBox__A55e5",step2__cvv:"Step2_step2__cvv__1SjuM",step2__date:"Step2_step2__date__3eEE5",step2__dateAndCvv_input:"Step2_step2__dateAndCvv_input__2_u4o",step2__button:"Step2_step2__button__mcBGT"}},72:function(e,t,a){e.exports={formContainer:"Checkout_formContainer__RvR-l",formContainer__body:"Checkout_formContainer__body__Mg9Kc"}},9:function(e,t,a){e.exports={heading:"Step1_heading__2_dPS",label:"Step1_label__qOv1R",input:"Step1_input__1wVsv",input_error:"Step1_input_error__p2DKM",button:"Step1_button__3Ltlb",customInput:"Step1_customInput__T9cJa",step1__heading:"Step1_step1__heading__2OkCj",step1__recipient_label:"Step1_step1__recipient_label__22dr-",step1__FIO_input:"Step1_step1__FIO_input__IElBI",step1__address_label:"Step1_step1__address_label__34dHs",step1__city_input:"Step1_step1__city_input__f5Gjj",step1__address_input:"Step1_step1__address_input__33oEl",step1__countryAndZipBox:"Step1_step1__countryAndZipBox__2D4Za",step1__zip:"Step1_step1__zip__2brJq",step1__country:"Step1_step1__country__X2jLk",step1__button:"Step1_step1__button__xvjqP"}}},[[106,1,2]]]);
//# sourceMappingURL=main.e1f5c0a5.chunk.js.map